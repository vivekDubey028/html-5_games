<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realistic Casino 777 - Slot Machine</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f1a2e 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background particles */
        .casino-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 0, 150, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(0, 255, 255, 0.1) 0%, transparent 50%);
            z-index: -1;
            animation: backgroundShift 10s ease-in-out infinite alternate;
        }

        @keyframes backgroundShift {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.1) rotate(2deg); }
        }

        /* Loading screen */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.8s ease-out;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-icon {
            font-size: 5rem;
            color: #ffd700;
            text-shadow: 
                0 0 20px #ffd700,
                0 0 40px #ffd700,
                0 0 60px #ffd700;
            margin-bottom: 30px;
            animation: loaderPulse 1.5s ease-in-out infinite;
        }

        @keyframes loaderPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.8; }
        }

        .loader-bar {
            width: 300px;
            height: 12px;
            background: #333;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            border: 2px solid #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .loader-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 60%;
            height: 100%;
            background: linear-gradient(90deg, transparent, #ffd700, #ffed4e, #ffd700, transparent);
            animation: loadProgress 2s linear infinite;
        }

        @keyframes loadProgress {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(167%); }
        }

        .loader-text {
            color: #ffd700;
            font-size: 1.2rem;
            margin-top: 20px;
            animation: loadingDots 1.5s infinite;
        }

        @keyframes loadingDots {
            0%, 20% { content: 'Loading Casino'; }
            40% { content: 'Loading Casino.'; }
            60% { content: 'Loading Casino..'; }
            80%, 100% { content: 'Loading Casino...'; }
        }

        /* Main slot machine */
        .slot-machine {
            background: linear-gradient(145deg, #2c2c54, #1a1a2e);
            border-radius: 25px;
            padding: 35px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 0 3px #ffd700;
            max-width: 550px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }

        .slot-machine::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            background: linear-gradient(45deg, #ffd700, #ff6b6b, #4ecdc4, #45b7d1, #ffd700);
            border-radius: 30px;
            z-index: -1;
            animation: borderGlow 4s linear infinite;
        }

        @keyframes borderGlow {
            0% { filter: hue-rotate(0deg) brightness(1); }
            50% { filter: hue-rotate(180deg) brightness(1.2); }
            100% { filter: hue-rotate(360deg) brightness(1); }
        }

        .title {
            text-align: center;
            color: #ffd700;
            font-size: 2.8rem;
            font-weight: bold;
            text-shadow: 
                0 0 10px #ffd700,
                0 0 20px #ffd700,
                0 0 30px #ffd700,
                0 0 40px #ffd700;
            margin-bottom: 25px;
            animation: titleGlow 3s ease-in-out infinite alternate;
            position: relative;
        }

        @keyframes titleGlow {
            from { 
                text-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700;
                transform: scale(1);
            }
            to { 
                text-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700, 0 0 40px #ffd700, 0 0 50px #ffd700;
                transform: scale(1.05);
            }
        }

        /* Realistic reel container */
        .reels-container {
            background: linear-gradient(145deg, #1a1a1a, #2d2d2d);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
            border: 4px solid #333;
            box-shadow: 
                inset 0 8px 20px rgba(0, 0, 0, 0.6),
                inset 0 -8px 20px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 215, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .reels-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 3s infinite;
            pointer-events: none;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .reels {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 25px;
        }

        /* Realistic reel styling */
        .reel {
            width: 130px;
            height: 140px;
            background: linear-gradient(145deg, #f8f8f8, #e0e0e0);
            border-radius: 15px;
            border: 4px solid #333;
            position: relative;
            overflow: hidden;
            box-shadow: 
                inset 0 4px 12px rgba(255, 255, 255, 0.5),
                inset 0 -4px 12px rgba(0, 0, 0, 0.5),
                0 8px 20px rgba(0, 0, 0, 0.4);
            perspective: 1000px;
        }

        .reel-strip {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: transform 0.1s ease-out;
        }

        .reel-symbol {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: bold;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: absolute;
            top: 0;
            left: 0;
        }

        /* Spinning animation */
        .reel.spinning .reel-strip {
            animation: reelSpin 0.1s linear infinite;
        }

        @keyframes reelSpin {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100%); }
        }

        .reel.spinning {
            box-shadow: 
                inset 0 4px 12px rgba(255, 255, 255, 0.5),
                inset 0 -4px 12px rgba(0, 0, 0, 0.5),
                0 8px 20px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 215, 0, 0.6);
        }

        .reel.spinning .reel-symbol {
            filter: blur(2px);
            animation: symbolBlur 0.1s linear infinite;
        }

        @keyframes symbolBlur {
            0% { filter: blur(1px); transform: scale(0.95); }
            50% { filter: blur(3px); transform: scale(1.05); }
            100% { filter: blur(1px); transform: scale(0.95); }
        }

        /* Winning reel effects */
        .reel.winning {
            animation: winningGlow 0.6s ease-in-out infinite alternate;
            box-shadow: 
                0 0 40px #ffd700,
                inset 0 4px 12px rgba(255, 255, 255, 0.5),
                inset 0 -4px 12px rgba(0, 0, 0, 0.5);
        }

        @keyframes winningGlow {
            from { 
                transform: scale(1);
                box-shadow: 0 0 40px #ffd700, inset 0 4px 12px rgba(255, 255, 255, 0.5), inset 0 -4px 12px rgba(0, 0, 0, 0.5);
            }
            to { 
                transform: scale(1.1);
                box-shadow: 0 0 60px #ffd700, 0 0 80px #ffd700, inset 0 4px 12px rgba(255, 255, 255, 0.5), inset 0 -4px 12px rgba(0, 0, 0, 0.5);
            }
        }

        /* Controls styling */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            gap: 25px;
        }

        .info-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .info-item {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 25px;
            border-radius: 12px;
            color: #ffd700;
            font-weight: bold;
            border: 2px solid #ffd700;
            min-width: 150px;
            text-align: center;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .info-item:hover::before {
            left: 100%;
        }

        .info-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
        }

        /* Button styling */
        .bet-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        .bet-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .bet-btn {
            background: linear-gradient(145deg, #4ecdc4, #45b7d1);
            color: white;
            border: none;
            padding: 12px 18px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            min-width: 55px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .bet-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .bet-btn:hover::before {
            width: 100%;
            height: 100%;
        }

        .bet-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(78, 205, 196, 0.6);
        }

        .bet-btn.active {
            background: linear-gradient(145deg, #ffd700, #ffed4e);
            color: #333;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 215, 0, 0.6);
        }

        .spin-btn, .auto-spin-btn {
            background: linear-gradient(145deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 8px 16px rgba(255, 107, 107, 0.5);
            min-width: 120px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .spin-btn::before, .auto-spin-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .spin-btn:hover::before, .auto-spin-btn:hover::before {
            left: 100%;
        }

        .auto-spin-btn.active {
            background: linear-gradient(145deg, #4ecdc4, #45b7d1);
            box-shadow: 0 8px 16px rgba(78, 205, 196, 0.5);
        }

        .spin-btn:hover:not(:disabled), .auto-spin-btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(255, 107, 107, 0.7);
        }

        .spin-btn:disabled, .auto-spin-btn:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.6;
            transform: none;
            box-shadow: none;
        }

        /* Win message styling */
        .win-message {
            text-align: center;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 20px 0;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .win-message.big-win {
            color: #ffd700;
            text-shadow: 
                0 0 15px #ffd700,
                0 0 30px #ffd700,
                0 0 45px #ffd700;
            animation: bigWinPulse 0.8s ease-in-out infinite alternate;
            font-size: 2.2rem;
        }

        .win-message.small-win {
            color: #4ecdc4;
            text-shadow: 
                0 0 10px #4ecdc4,
                0 0 20px #4ecdc4;
            animation: smallWinGlow 1s ease-in-out infinite alternate;
        }

        @keyframes bigWinPulse {
            from { 
                transform: scale(1);
                text-shadow: 0 0 15px #ffd700, 0 0 30px #ffd700, 0 0 45px #ffd700;
            }
            to { 
                transform: scale(1.2);
                text-shadow: 0 0 25px #ffd700, 0 0 40px #ffd700, 0 0 55px #ffd700, 0 0 70px #ffd700;
            }
        }

        @keyframes smallWinGlow {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        /* Payouts table */
        .payouts {
            background: rgba(137, 51, 51, 0.5);
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border: 3px solid #ffd700;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .payouts h3 {
            color: #ffd700;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-shadow: 0 0 10px #ffd700;
        }

        .payout-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            font-size: 1rem;
        }

        .payout-item {
            display: flex;
            justify-content: space-between;
            color: #fff;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .payout-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Volume control */
        .volume-control {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffd700;
            z-index: 100;
        }

        .volume-btn {
            background: none;
            border: none;
            color: #ffd700;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .volume-btn:hover {
            background: rgba(255, 215, 0, 0.2);
        }

        .volume-btn.muted {
            opacity: 0.5;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .slot-machine {
                padding: 25px;
                max-width: 450px;
            }

            .title {
                font-size: 2.2rem;
            }

            .reels {
                gap: 15px;
            }

            .reel {
                width: 110px;
                height: 120px;
            }

            .reel-symbol {
                font-size: 3rem;
            }

            .controls {
                flex-direction: column;
                gap: 25px;
            }

            .info-panel {
                flex-direction: row;
                justify-content: space-around;
                width: 100%;
                flex-wrap: wrap;
            }

            .info-item {
                min-width: 110px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .bet-buttons {
                gap: 8px;
            }

            .bet-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .spin-btn, .auto-spin-btn {
                padding: 15px 30px;
                font-size: 1.1rem;
            }

            .payout-list {
                grid-template-columns: 1fr;
            }

            .volume-control {
                top: 15px;
                right: 15px;
                padding: 6px;
                border-radius: 8px;
            }

            .volume-btn {
                font-size: 1.2rem;
                padding: 4px;
            }
        }

        @media (max-width: 480px) {
            .slot-machine {
                padding: 20px;
                max-width: 350px;
            }

            .title {
                font-size: 2rem;
            }

            .reels {
                gap: 10px;
            }

            .reel {
                width: 90px;
                height: 100px;
            }

            .reel-symbol {
                font-size: 2.5rem;
            }

            .info-item {
                min-width: 100px;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .bet-btn {
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            .spin-btn, .auto-spin-btn {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .volume-control {
                top: 10px;
                right: 10px;
                padding: 4px;
                border-radius: 6px;
            }

            .volume-btn {
                font-size: 1rem;
                padding: 3px;
            }
        }

        /* Particle effects */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 10;
            border-radius: 50%;
            animation: particleFloat 4s linear forwards;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Explosion effect for big wins */
        .explosion-particle {
            position: fixed;
            width: 8px;
            height: 8px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            box-shadow: 0 0 12px #ffd700;
        }

        @keyframes explode {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            100% {
                transform: scale(0) translate(var(--dx), var(--dy));
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Audio elements for professional sounds -->
    <audio id="reelSpinSound" preload="auto" loop>
        <source src="sounds/slot-machine-reels-sound-30276.mp3" type="audio/mpeg">
    </audio>
    <audio id="jackpotSound" preload="auto">
        <source src="sounds/jackpot-slot-machine-coin-loop-13-216267.mp3" type="audio/mpeg">
    </audio>
    <audio id="payoutSound" preload="auto">
        <source src="sounds/slot-machine-payout-81725.mp3" type="audio/mpeg">
    </audio>
    <audio id="winSound" preload="auto">
        <source src="sounds/you-win-sequence-3-183950.mp3" type="audio/mpeg">
    </audio>

    <div class="volume-control">
        <button class="volume-btn" id="volumeBtn" title="Toggle Sound">🔊</button>
    </div>

    <div class="loader" id="loader">
        <div class="loader-icon">🎰 7 7 7 🎰</div>
        <div class="loader-bar"></div>
        <div class="loader-text">Loading Casino...</div>
    </div>
    
    <div class="casino-background"></div>
    
    <div class="slot-machine" id="slotMachine">
        <h1 class="title">🎰 CASINO 777 🎰</h1>
        
        <div class="reels-container">
            <div class="reels">
                <div class="reel" id="reel1">
                    <div class="reel-strip">
                        <div class="reel-symbol">🍒</div>
                    </div>
                </div>
                <div class="reel" id="reel2">
                    <div class="reel-strip">
                        <div class="reel-symbol">🍒</div>
                    </div>
                </div>
                <div class="reel" id="reel3">
                    <div class="reel-strip">
                        <div class="reel-symbol">🍒</div>
                    </div>
                </div>
            </div>
            
            <div class="win-message" id="winMessage"></div>
        </div>
        
        <div class="controls">
            <div class="info-panel">
                <div class="info-item">
                    💰 Credits: <span id="credits">1000</span>
                </div>
                <div class="info-item">
                    🎯 Bet: <span id="currentBet">10</span>
                </div>
                <div class="info-item">
                    🏆 Win: <span id="lastWin">0</span>
                </div>
            </div>
            
            <div class="bet-controls">
                <div class="bet-buttons">
                    <button class="bet-btn" data-bet="5">5</button>
                    <button class="bet-btn active" data-bet="10">10</button>
                    <button class="bet-btn" data-bet="25">25</button>
                    <button class="bet-btn" data-bet="50">50</button>
                    <button class="bet-btn" data-bet="100">100</button>
                </div>
                <div class="button-group">
                    <button class="spin-btn" id="spinBtn">🎲 SPIN</button>
                    <button class="auto-spin-btn" id="autoSpinBtn">⚡ AUTO SPIN</button>
                </div>
            </div>
        </div>
        
        <div class="payouts">
            <h3>💰 PAYOUTS 💰</h3>
            <div class="payout-list">
                <div class="payout-item">
                    <span>🍒🍒🍒</span>
                    <span>×10</span>
                </div>
                <div class="payout-item">
                    <span>🍋🍋🍋</span>
                    <span>×15</span>
                </div>
                <div class="payout-item">
                    <span>🍊🍊🍊</span>
                    <span>×20</span>
                </div>
                <div class="payout-item">
                    <span>🍇🍇🍇</span>
                    <span>×25</span>
                </div>
                <div class="payout-item">
                    <span>⭐⭐⭐</span>
                    <span>×50</span>
                </div>
                <div class="payout-item">
                    <span>💎💎💎</span>
                    <span>×100</span>
                </div>
                <div class="payout-item">
                    <span>7️⃣7️⃣7️⃣</span>
                    <span>×500</span>
                </div>
                <div class="payout-item">
                    <span>🎰🎰🎰</span>
                    <span>×1000</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        class RealisticSlotMachine {
            constructor() {
                this.symbols = ['🍒', '🍋', '🍊', '🍇', '⭐', '💎', '7️⃣', '🎰'];
                this.payouts = {
                    '🍒': 10, '🍋': 15, '🍊': 20, '🍇': 25,
                    '⭐': 50, '💎': 100, '7️⃣': 500, '🎰': 1000
                };
                
                this.credits = 1000;
                this.currentBet = 10;
                this.lastWin = 0;
                this.isSpinning = false;
                this.isAutoSpinning = false;
                this.spinSoundInterval = null;
                this.isMuted = false;
                
                this.reels = [
                    document.getElementById('reel1'),
                    document.getElementById('reel2'),
                    document.getElementById('reel3')
                ];
                
                this.reelSymbols = [
                    this.reels[0].querySelector('.reel-symbol'),
                    this.reels[1].querySelector('.reel-symbol'),
                    this.reels[2].querySelector('.reel-symbol')
                ];
                
                this.creditsDisplay = document.getElementById('credits');
                this.betDisplay = document.getElementById('currentBet');
                this.winDisplay = document.getElementById('lastWin');
                this.winMessage = document.getElementById('winMessage');
                this.spinBtn = document.getElementById('spinBtn');
                this.autoSpinBtn = document.getElementById('autoSpinBtn');
                this.volumeBtn = document.getElementById('volumeBtn');
                
                // Audio elements
                this.reelSpinAudio = document.getElementById('reelSpinSound');
                this.jackpotAudio = document.getElementById('jackpotSound');
                this.payoutAudio = document.getElementById('payoutSound');
                this.winAudio = document.getElementById('winSound');
                
                this.audioContext = null;
                this.initAudio();
                this.initializeEventListeners();
                this.updateDisplay();
                this.startParticleSystem();
            }
            
            async initAudio() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    if (this.audioContext.state === 'suspended') {
                        const resumeAudio = () => {
                            this.audioContext.resume();
                            document.removeEventListener('click', resumeAudio);
                        };
                        document.addEventListener('click', resumeAudio);
                    }
                    console.log('Reel spin audio readyState:', this.reelSpinAudio.readyState);
                    console.log('Jackpot audio readyState:', this.jackpotAudio.readyState);
                    console.log('Payout audio readyState:', this.payoutAudio.readyState);
                    console.log('Win audio readyState:', this.winAudio.readyState);
                    this.reelSpinAudio.volume = 0.5; // Adjust volume for reel spin
                    this.jackpotAudio.volume = 0.7;
                    this.payoutAudio.volume = 0.8;
                    this.winAudio.volume = 0.6;
                    this.reelSpinAudio.addEventListener('error', (e) => console.error('Reel spin audio error:', e));
                    this.jackpotAudio.addEventListener('error', (e) => console.error('Jackpot audio error:', e));
                    this.payoutAudio.addEventListener('error', (e) => console.error('Payout audio error:', e));
                    this.winAudio.addEventListener('error', (e) => console.error('Win audio error:', e));
                } catch (e) {
                    console.error('Audio initialization failed:', e);
                }
            }
            
            // Professional sound system using the provided audio files
            async playProfessionalSound(type) {
                console.log('Attempting to play sound:', type, 'Muted:', this.isMuted);
                if (this.isMuted) return;
                
                try {
                    const audio = this[`${type}Audio`];
                    console.log('Playing audio:', audio.src, 'readyState:', audio.readyState);
                    audio.currentTime = 0;
                    await audio.play();
                } catch (e) {
                    console.error('Could not play sound:', type, e);
                }
            }
            
            // Enhanced sound system with Web Audio API (replaced for reel spin)
            playSound(type, duration = 0.3) {
                if (!this.audioContext || this.isMuted) return;
                
                const ctx = this.audioContext;
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                const filterNode = ctx.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                switch (type) {
                    case 'reel_stop':
                        oscillator.frequency.setValueAtTime(400, ctx.currentTime);
                        oscillator.frequency.exponentialRampToValueAtTime(200, ctx.currentTime + 0.3);
                        gainNode.gain.setValueAtTime(0.15, ctx.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                        filterNode.frequency.setValueAtTime(1200, ctx.currentTime);
                        break;
                        
                    case 'button_click':
                        oscillator.frequency.setValueAtTime(800, ctx.currentTime);
                        gainNode.gain.setValueAtTime(0.05, ctx.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
                        duration = 0.1;
                        break;
                }
                
                oscillator.start(ctx.currentTime);
                oscillator.stop(ctx.currentTime + duration);
            }
            
            startSpinSound() {
                if (!this.isMuted) {
                    this.reelSpinAudio.currentTime = 0;
                    this.reelSpinAudio.play();
                }
            }
            
            stopSpinSound() {
                if (this.reelSpinAudio) {
                    this.reelSpinAudio.pause();
                    this.reelSpinAudio.currentTime = 0;
                }
            }
            
            toggleMute() {
                this.isMuted = !this.isMuted;
                this.volumeBtn.textContent = this.isMuted ? '🔇' : '🔊';
                this.volumeBtn.classList.toggle('muted', this.isMuted);
                
                if (this.isMuted) {
                    this.reelSpinAudio.pause();
                    this.jackpotAudio.pause();
                    this.payoutAudio.pause();
                    this.winAudio.pause();
                    this.stopSpinSound();
                } else if (this.isSpinning) {
                    this.startSpinSound();
                }
            }
            
            initializeEventListeners() {
                this.volumeBtn.addEventListener('click', () => {
                    this.toggleMute();
                });
                
                document.querySelectorAll('.bet-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        if (this.isSpinning) return;
                        
                        this.playSound('button_click');
                        
                        document.querySelectorAll('.bet-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        
                        this.currentBet = parseInt(e.target.dataset.bet);
                        this.updateDisplay();
                    });
                });
                
                this.spinBtn.addEventListener('click', () => {
                    this.playSound('button_click');
                    this.spin();
                });
                
                this.autoSpinBtn.addEventListener('click', () => {
                    this.playSound('button_click');
                    this.toggleAutoSpin();
                });
                
                document.addEventListener('keydown', (e) => {
                    if (e.code === 'Space' && !this.isSpinning && !this.isAutoSpinning) {
                        e.preventDefault();
                        this.spin();
                    } else if (e.code === 'KeyA' && !this.isSpinning) {
                        e.preventDefault();
                        this.toggleAutoSpin();
                    } else if (e.code === 'KeyM') {
                        e.preventDefault();
                        this.toggleMute();
                    }
                });
            }
            
            updateDisplay() {
                this.creditsDisplay.textContent = this.credits;
                this.betDisplay.textContent = this.currentBet;
                this.winDisplay.textContent = this.lastWin;
                
                this.spinBtn.disabled = this.credits < this.currentBet || this.isSpinning;
                this.autoSpinBtn.disabled = this.credits < this.currentBet;
                this.autoSpinBtn.textContent = this.isAutoSpinning ? '⏹️ STOP AUTO' : '⚡ AUTO SPIN';
                this.autoSpinBtn.classList.toggle('active', this.isAutoSpinning);
            }
            
            getRandomSymbol() {
                return this.symbols[Math.floor(Math.random() * this.symbols.length)];
            }
            
            async spin() {
                if (this.isSpinning || this.credits < this.currentBet) return;
                
                this.isSpinning = true;
                this.credits -= this.currentBet;
                this.lastWin = 0;
                this.winMessage.textContent = '';
                this.winMessage.className = 'win-message';
                
                this.reels.forEach(reel => reel.classList.remove('winning'));
                
                this.updateDisplay();
                
                this.startSpinSound();
                
                this.reels.forEach(reel => reel.classList.add('spinning'));
                
                const spinDurations = [1500, 2200, 2800];
                const results = [];
                
                for (let i = 0; i < 3; i++) {
                    await new Promise(resolve => {
                        let spinCount = 0;
                        const maxSpins = spinDurations[i] / 60;
                        
                        const spinInterval = setInterval(() => {
                            this.reelSymbols[i].textContent = this.getRandomSymbol();
                            spinCount++;
                            
                            if (spinCount >= maxSpins) {
                                clearInterval(spinInterval);
                                
                                this.reels[i].classList.remove('spinning');
                                results[i] = this.reelSymbols[i].textContent;
                                
                                this.playSound('reel_stop');
                                
                                resolve();
                            }
                        }, 60);
                    });
                    
                    if (i < 2) {
                        await new Promise(resolve => setTimeout(resolve, 200));
                    }
                }
                
                this.stopSpinSound();
                
                await this.checkWin(results);
                
                this.isSpinning = false;
                this.updateDisplay();
                
                if (this.isAutoSpinning && this.credits >= this.currentBet) {
                    setTimeout(() => this.spin(), 1500);
                }
            }
            
            toggleAutoSpin() {
                if (this.isSpinning) return;
                this.isAutoSpinning = !this.isAutoSpinning;
                this.updateDisplay();
                
                if (this.isAutoSpinning && this.credits >= this.currentBet) {
                    this.spin();
                }
            }
            
            async checkWin(results) {
                const [reel1, reel2, reel3] = results;
                
                if (reel1 === reel2 && reel2 === reel3) {
                    const winAmount = this.currentBet * this.payouts[reel1];
                    this.lastWin = winAmount;
                    this.credits += winAmount;
                    
                    this.reels.forEach(reel => reel.classList.add('winning'));
                    
                    if (winAmount >= this.currentBet * 100) {
                        this.winMessage.textContent = `🎉 JACKPOT! +${winAmount} 🎉`;
                        this.winMessage.className = 'win-message big-win';
                        await this.playProfessionalSound('jackpot');
                        this.createExplosionEffect();
                        
                    } else if (winAmount >= this.currentBet * 25) {
                        this.winMessage.textContent = `💰 BIG WIN! +${winAmount} 💰`;
                        this.winMessage.className = 'win-message big-win';
                        await this.playProfessionalSound('payout');
                        this.createWinParticles();
                        
                    } else {
                        this.winMessage.textContent = `🎊 WIN! +${winAmount} 🎊`;
                        this.winMessage.className = 'win-message small-win';
                        await this.playProfessionalSound('win');
                    }
                    
                } else {
                    this.winMessage.textContent = 'Try again! 🎲';
                    this.winMessage.className = 'win-message';
                }
                
                if (this.credits < Math.min(...[5, 10, 25, 50, 100])) {
                    this.isAutoSpinning = false;
                    setTimeout(() => {
                        if (confirm('🎰 Game Over! You\'re out of credits. Would you like to restart with 1000 credits?')) {
                            this.credits = 1000;
                            this.updateDisplay();
                        }
                    }, 2000);
                }
            }
            
            createExplosionEffect() {
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;
                
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'explosion-particle';
                        
                        const angle = (i / 30) * Math.PI * 2;
                        const distance = 100 + Math.random() * 200;
                        const dx = Math.cos(angle) * distance;
                        const dy = Math.sin(angle) * distance;
                        
                        particle.style.left = centerX + 'px';
                        particle.style.top = centerY + 'px';
                        particle.style.setProperty('--dx', dx + 'px');
                        particle.style.setProperty('--dy', dy + 'px');
                        particle.style.animation = 'explode 1s ease-out forwards';
                        
                        document.body.appendChild(particle);
                        
                        setTimeout(() => particle.remove(), 1000);
                    }, i * 30);
                }
            }
            
            createWinParticles() {
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.cssText = `
                            width: ${4 + Math.random() * 6}px;
                            height: ${4 + Math.random() * 6}px;
                            background: ${Math.random() > 0.5 ? '#ffd700' : '#4ecdc4'};
                            left: ${Math.random() * 100}vw;
                            top: 100vh;
                            box-shadow: 0 0 ${6 + Math.random() * 10}px currentColor;
                        `;
                        
                        document.body.appendChild(particle);
                        setTimeout(() => particle.remove(), 4000);
                    }, i * 100);
                }
            }
            
            startParticleSystem() {
                setInterval(() => {
                    if (Math.random() < 0.3) {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.cssText = `
                            width: ${2 + Math.random() * 4}px;
                            height: ${2 + Math.random() * 4}px;
                            background: ${Math.random() > 0.7 ? '#ffd700' : 'rgba(78, 205, 196, 0.6)'};
                            left: ${Math.random() * 100}vw;
                            top: 100vh;
                            box-shadow: 0 0 ${4 + Math.random() * 8}px currentColor;
                            opacity: ${0.4 + Math.random() * 0.6};
                        `;
                        
                        document.body.appendChild(particle);
                        setTimeout(() => particle.remove(), 4000);
                    }
                }, 2000);
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            const loader = document.getElementById('loader');
            const slotMachine = document.getElementById('slotMachine');
            
            setTimeout(() => {
                loader.classList.add('hidden');
                new RealisticSlotMachine();
            }, 2500);
        });
    </script>
</body>
</html>